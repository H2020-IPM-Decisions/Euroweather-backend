# NetCDF Location Weather Adapter
Python based web service that serves weather forecasts from NetCDF files, allowing for a fairly efficient reading of the NetCDF file. Provide latitude and longitude, get IPMDecisions formatted weather data back. Using the Met Norway software [Fimex](https://github.com/metno/fimex) to read and interpolate the data.

&copy; 2021 NIBIO and Met Norway

Authors: Frank Thomas Tveter (Met Norway) and Tor-Einar Skog (NIBIO)

## License


## Getting started
### Software requirements
* Ubuntu Linux, tested with v 18 and up
* Python3
* Flask
* Apache2 with mod_wsgi (for production deployment)
* [Fimex](https://github.com/metno/fimex)

#### Installing Fimex
Example using Ubuntu

``` bash
add-apt-repository ppa:met-norway/fimex
apt-get update
apt-get install --assume-yes fimex-1.6-bin fimex-1.6-share libfimex-1.6-0 python3-pyfimex0-1.6
```

## Additional adaptations
### Assembling NetCDF file from provider and creating your own interpolator
It expects a file `all.nc` to reside in the `weather_data` folder. This file must be generated by service specific code. E.g. Deutsche Wetterdienst (DWD) has their own set of GRIB2 files that we download and convert into. Also, importantly, in order to read the provider specific `all.nc`, you must have a specific `app/interpolator.py`. Please see the `app/interpolator_example.py`